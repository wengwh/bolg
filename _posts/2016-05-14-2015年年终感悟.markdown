---
layout: post
title:  "2015年年终感悟"
date:  2016/02/15 13:25:35 +0200
categories: 工作
no-post-nav: true
---

###### 2015年转眼过去，想想这一年感觉有点虚度，一晃而过，写点总结，让自己不至于感觉什么都没做。还是和以前一样，按农历开始。

    2月，3月，考虑了离职，一过完年就提出了离职，到了3月底正式办好手续离开了毕业后呆了2年的公司。其实离开真的是舍不得，人对自己的任何第一次都是相当留恋，不管过程是痛苦还是开心。在办手续的过程中，也去面试了3家公司，总感觉面试的时候都没问什么问题，感觉都是缺人缺的厉害。后来选了家规模大的公司，想去大公司看看是什么样。
        
    4月，这个月给自己放了一个月的假。去厦门找同学玩了几天，后来回来还有时间想想去外面走走好了，说走就走，去了武汉，洛阳和西安。不过一个人的旅行也挺无聊的，走走看看，我也不爱与人交流。看看外面的景色，毕竟工作的时候放假很少，节假日人又超多。
       
    5-6月，到新公司报道，第一个月硬是没事情做，后来换组到宁外一个组做运维的，接了一个工作流引擎的项目叫我维护。这个项目基于jbpm3封装的，封装的过于庞大，有点冗余，还没有任何人的指导，以及项目管理很乱，其他项目组的使用都是发现问题自己改，并未统一。我就陆陆续续看看代码，文档。有点呆不下去了，毕竟以前在小公司都是时间很紧迫，什么项目都是1-2个月就要完成，而在这里闲的我想走了。
    7月，公司要投标广电的项目，有一个之前准备去投标的demo项目，按今年的投标要求，我在上面做修改，那个项目源码也没了（不知道这么大的公司管理居然这么乱）。我就自己写代码丢上去，能跑就行，按着那个项目经理的需求改了，加入一些以前公司用的简单框架做做几个报表。后来这个投标还是和以前一样又不了了之。从我的组长对这件事情不怎么上心我也感觉出来了。这里的氛围不是我喜欢的。缺少了狼气。
    8-12月，项目组安排做新工作流引擎的研发。基于activiti5做开发。在前公司有接触过一个月，上手没什么问题，不过这里要开发成组件给外部项目组使用，不想以前是直接基于自己的系统使用，方式上面有区别。基于这点，把工作流引擎做了组件分开：引擎核心（接口），引擎设计器，引擎监控，引擎控制台。这几大组件核心都是通过接口调用引擎接口做个耦合，不在强依赖于工作流。对后续的工作流引擎版本升级也只要依赖于接口这个组件即可。
    有了明确的分块，开始搭建，在这次的开发过程，对activiti的研发更深入了，在设计器模块使用了activiti提供的modeler，看了提供的代码基于oryx.debug.js核心做了外围封装使用了现在流行的bootstrap和angularJS。后续我在这个基础上，对元素加入新的属性以及改版。监控模块使用了activiti提供的基于Raphael的svg前端JS做展示，一开始使用activiti提供画图的jar做展示修改源码，对图形做颜色图例等加入，在前端用js做一层属性展示，后来感觉这样的扩展性不好，后期要是升级，修改的源码维护比较麻烦，而且用后台生成的图片，无法做到解耦合。引擎核心接口模块，使用了rest方式规则，使用springmvc+spring+activiti5，后期加入了dubbo分布式的服务中心框架，把核心模块拆分成接口模块和引擎模块，通过dubbo实现负载均衡的调用。控制台模块，使用bootstrap做了一个简易的流程各个接口的调用系统。
    在开发过程中，其实除了学习使用activiti外，在看他提供一些模块的时候发现，外国人做的真的很规范，以设计器为例，通过配置文件实现前端各个元素的规则属性配置，使代码相当简洁。这是自己在开发过程中相当薄弱的时候，有时候是为了完成需求去开发。还有对一些新技术的学习，springmvc，spring-security，angularJS，bootstrap，Raphael，dubbo，mybaties，activiti，其实想想一个工作流引擎就能延伸出很多的技术框架。所以研究一个东西一定要深入，学到的东西是无穷的。
    1-2月，基于封装好的工作流组件提供给外部项目组使用，做技术上的支撑。对一些接口做修改，回退：这里我实现了并发，子流程等情况的回退，网络上面提供的回退基本都是支持单线的情况。后来自己查看activiti的库表代码，查看它的生成过程，实现了这些回退。现在准备研发基于这几个组件的快速流程搭建平台。实现简单流程可视化配置，加入业务上面的人员配置，按钮权限配置，表单关联等等。
    回想这一年，主要的重点是工作流引擎，不过在大公司也让我缺少了拼劲，以前公司如果是做这个工作流开发，可能我2个月就能完成，在这里由于时间安排很长，自己也拖着，感觉想是在养老，做个螺丝钉。新一年，是否要离开，我还在犹豫，感觉工作了快3年，技术的沉淀可能还缺点，虽然平常自己也有看挺多技术的东西。但是感觉还是不够。希望新一年做一个更好的转变。离开，我还在犹豫，感觉工作了快3年，技术的沉淀可能还缺点，虽然平常自己也有看挺多技术的东西。但是感觉还是不够。希望新一年做一个更好的转变。