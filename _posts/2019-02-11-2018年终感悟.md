---
layout: post
title: 2018年终感悟
category: 工作
tags: [工作]
no-post-nav: true
---

2018年过完了，在过完年，准备上班的晚上开始写去年的年终总结。2018年过完年已经到2月底，由于去年封闭开发，公司给我们多放了几天假期。由于准备好了离职，就提前来城市，准备找工作面试的事情。

3月，开始了骑驴找马的面试，一开始2家公司面试，都没问什么技术，也不肯给我更高的工资，自己有点受打击。感觉这么快就被社会淘汰了吗？再没找工作之前以为自己应该很好找到新工作，面试了2家之后自信心受到了打击。然后就开始了刷题，准备各种知识点。

4月，面试了互联网公司，开的工资他们直接同意了，不过是大小周工作制加最低五险一金，自己有点犹豫。后来去了原来同事的公司，做游戏运营开发，虽然没给我期望的工资，给的岗位也只是中级，当时自己也找不到更好的，就同意了offer。然后就开始提离职走交接。中间也帮公司面试了一下应聘的人，渐渐发现工作年龄并不是特别大的用处，有时候做了好几年接触的面也很窄，对个人的提升也没有很大。

5月，入职新公司，虽然面试的岗位是大数据开发岗，不过做的工作也都是跟以前内容一样做业务接口相关的。对于自己而言难度并不大。一开始安排我做礼包系统，涉及游戏的礼包触发，逻辑规则判断是否触发等相关业务。第一个月主要是在适应公司，融入团队，不过新的公司，同事之间的氛围相对上家公司确实好了很多，同事之间不会很拘谨，公司的团建也很多，感觉公司对这块也比较重视，给我感觉还是蛮好的。

6-7月，接手之前同事做的排行榜接口模块，领导想统一接口都我这边开发。第二个接手，接口网关模块，由于之前的框架使用了dubbo，网关一开始设计是每个服务打jar包给网关写代码调用。感觉之前的项目代码都不像是生产正式版本，在很多公共包还存在测试的代码，公司可能也成立没非常久，对代码规范，流程等都没有做好建设。

自己查看了网络相关的网关功能，由于内部使用了dubbo，不考虑springcloud集成zuul，不过可以模仿zuul做相关功能。网关使用dubbo泛化调用解决了打包的硬编码，加入了现在网关都具备的功能：接口鉴权，黑白名单过滤，限流控制，熔断降级等。编码过程参考zuul的源码，一样的使用拦截器，使用hystrix插件，令牌桶算法等相关技术。

8月，礼包系统上线之前的压测，使用了jmeter做并发压测，不过对jmeter的使用只停留在以前简单配置并发。缺少考虑了压测机的性能，以及部署程序机的性能，感觉做的压测都不是太大作用。不过还是发现了一些问题，比如第三方jar解析缓慢，导致堆积等问题。

9月，辅助一个模块的同事，写入es性能缓慢，由于es的主键冲突问题，考虑了hbase的协处理器和kafka两种方式做一个主键拆分。由于协处理器需要在hbase上面部署，感觉可能会对hbase产生不确定影响，选择了kafka做主键区分。先写入kafka，再监听相关管道，消费写入es。

后续还考虑了自动化部署和性能监控，了解了jenkins和apm。jenkins自己搭了一个开发环境，不过由于生产的复杂和权限问题，没有推动。apm查看了现在几个主流的组件，基本都是使用字节码嵌入，达到最少干扰项目的做法，不过公司的项目也都是刚上生产，apm的隐藏忧患也没有正式研究，只暂停在个人研究阶段。

10-11月，礼包生产上线成功之后，后续的新的需求继续开发，由于都不是复杂的业务，相对过程都比较顺滑。后续又开始做广告的花费采集，采集公司投放的几个大渠道的花费。通过他们提供的api抓取花费等数据写入hive。广告api的研究主要工作在各大厂家的api查看，不过都大同小异，就是每个api都有一些自己的限制等。编码上问题都不是很大。中间还接触了一下定时组件airflow，使用它定时触发我的程序来抓取api。第三方的定时组件，功能丰富，而且直观，使用python编写脚本，还是比较强大。

12月，主要的事情就是把手头上相关的新需求做完上线。还接手了一些业务接口。

在新公司，接触到的组件相对较多，es，kafka，apollo，hbase，hdfs等，自己在使用上问题不大，不过今年没有花时间去研究他们的内部原理等。只是停留在使用层面上。希望新的一年可以研究一下。

最后说说这一年的感情生活，今年终于有了女朋友，虽然出现了一些小问题，不过不影响我们的发展，在新的一年也会结婚。有了女朋友，周末也不用一个人宅着，人也有了期望，虽然有时候感觉压力大，但是有了目标，生活也相对踏实。这应该是这一年最大的收获了。

今年自己博客基本没更新，也没怎么看书，在知识这块感觉投入太少了。开源的项目plumdo-work居然有了110多的star和70多fork对自己是个意外，虽然我一直想把他基础做完，但是自己实在懒，都是做一点点，导致一年了，就多了一些功能，还缺很多，不过有了关注，自己也更有动力去完善，只能期望新的一年可以完成基础版。

再说说自己的投资，今年还是一如既往的股票，不过到了新公司，工作内容以及适应，没有太多时间去玩股票，有了女朋友也不想再投钱进去，希望存点钱为后续结婚等事情准备，之前进去的钱，就看后续的走势了。虽然大家都不看好股市，不过好歹是一种投资。虽然一直没赚钱，当作自己在理财这块唯一的爱好了。

对明年的期望，完善开源项目，对使用到的组件等有一些深入研究，当然期望自己在岗位上可以有更多的发展，毕竟到了30岁，也要考虑以后的职业发展了。对感情，新的一年与女友结婚，稳定的步入婚姻生活，过好两个人的生活。





